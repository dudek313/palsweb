<template name="dataset">
<div class="data-set">
<div class="right-column">
    <h3>Versions</h3>
    {{#if currentUser.admin}}<button class='grey' id="upload-version">Upload a new version</button>{{/if}}
    {{#if hasVersions}}
    <table>
        <tr>
            <th>File</th>
            {{#if currentUser.admin}}<th>delete</th>{{/if}}
        </tr>
        {{#each dataSet.versions}}
        <tr>
            <td onclick="window.location.href='{{url}}'">{{filename}}</td>
            {{#if currentUser.admin}}<td class='delete-version' id='{{key}}'>delete</td>{{/if}}
        </tr>
        {{/each}}
    </table>
    {{/if}}
</div>
<div class="left-column">
   <h1>Data Set: {{dataSet.name}}</h1>
   <div class="error"></div>
   <div class="form-item">
       <label>Data Set Name</label>
       <div class="display">{{dataSet.name}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="name" value="{{dataSet.name}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Data Set Type</label>
       {{#if currentUser.admin}}
       <select name="type">
           {{#each reference.dataSetType}}
           <option value='{{this}}' {{selected this dataSet.type}}>{{this}}</option>
           {{/each}}
       </select>
       {{else}}
       <div class="display">{{dataSet.type}}</div>
       {{/if}}
   </div>
   <div class="form-item">
       <label>Country</label>
       {{#if currentUser.admin}}
       <select name="country">
           {{#each reference.country}}
           <option value='{{this}}' {{selected this dataSet.country}}>{{this}}</option>
           {{/each}}
       </select>
       {{else}}
       <div class="display">{{dataSet.country}}</div>
       {{/if}}
   </div>
   <div class="form-item">
       <label>IGBP Vegetation Type</label>
       {{#if currentUser.admin}}
       <select name="vegType">
           {{#each reference.vegType}}
           <option value='{{this}}' {{selected this dataSet.vegType}}>{{this}}</option>
           {{/each}}
       </select>
       {{else}}
       <div class="display">{{dataSet.vegType}}</div>
       {{/if}}
   </div>
   {{#if currentUser.admin}}
   <div class="form-item">
       <label>or enter a different Vegetation Type</label>
       <div class="display">{{dataSet.vegType}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="vegType" value="{{dataSet.vegType}}"></input>{{/if}}
   </div>
   {{/if}}
   <div class="form-item">
       <label>Soil Type</label>
       <div class="display">{{dataSet.soilType}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="soilType" value="{{dataSet.soilType}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Site Description URL</label>
       <div class="display">{{dataSet.url}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="url" name="url" value="{{dataSet.url}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Latitude (decimal)</label>
       <div class="display">{{dataSet.lat}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="lat" value="{{dataSet.lat}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Longitude (decimal)</label>
       <div class="display">{{dataSet.lon}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="lon" value="{{dataSet.lon}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Elevation (m)</label>
       <div class="display">{{dataSet.elevation}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="elevation" value="{{dataSet.elevation}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Max Vegetation Height (m)</label>
       <div class="display">{{dataSet.maxVegHeight}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="maxVegHeight" value="{{dataSet.maxVegHeight}}"></input>{{/if}}
   </div> 
   <div class="form-item">
       <label>UTC Offset (hours)</label>
       <div class="display">{{dataSet.utcOffset}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="utcOffset" value="{{dataSet.utcOffset}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>Site Contact</label>
       <div class="display">{{dataSet.siteContact}}</div>
       {{#if currentUser.admin}}<input class="modifier" type="text" name="siteContact" value="{{dataSet.siteContact}}"></input>{{/if}}
   </div>
   <div class="form-item">
       <label>References</label>
       <div class="display">{{dataSet.references}}</div>
       {{#if currentUser.admin}}<textarea class="modifier" type="text" name="references">{{dataSet.references}}</textarea>{{/if}}
   </div>
   <div class="form-item">
       <label>Comments</label>
       <div class="display">{{dataSet.comments}}</div>
       {{#if currentUser.admin}}<textarea class="modifier" type="text" name="comments">{{dataSet.comments}}</textarea>{{/if}}
   </div>
</div><!--left-column-->
</div><!--text-content-->
</template>