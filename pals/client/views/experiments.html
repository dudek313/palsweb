<template name="experiments">
<div class="text-content">
    <h1>
    {{#if currentSpatialResolution}}{{currentSpatialResolution}}{{/if}}
        Experiments
    </h1>
    <div class="alert alert-danger error"></div>
    <table class="table table-hover">
        <thead>
        <tr>
            {{#if currentSpatialResolution}}
                {{#if areEqual currentSpatialResolution 'SingleSite'}}
                    {{> singleSiteHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'MultipleSite'}}
                    {{> multipleSiteHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'Catchment'}}
                    {{> catchmentHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'Regional'}}
                    {{> regionalHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'Global'}}
                    {{> globalHeadings}}
                {{/if}}
            {{else}}
            <th>Name</th>
            <th>Spatial Level</th>
            <th>Resolution</th>
            <th>Time Step Size</th>
            {{/if}}
            {{#if currentUser.admin}}<th>Delete</th>{{/if}}
        </tr>
        </thead>
        <tbody>
        {{#each experiments}}
        <tr>
            {{#if currentSpatialResolution}}
                {{#if areEqual currentSpatialResolution 'SingleSite'}}
                    {{> singleSiteRow}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'MultipleSite'}}
                    {{> multipleSiteRow}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'Catchment'}}
                    {{> catchmentRow}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'Regional'}}
                    {{> regionalRow}}
                {{/if}}
                {{#if areEqual currentSpatialResolution 'Global'}}
                    {{> globalRow}}
                {{/if}}
            {{else}}
            <td onclick="Router.go('/experiments/{{_id}}')">{{name}}</td>
            <td onclick="Router.go('/experiments/{{_id}}')">{{spatialLevel}}</td>
            <td onclick="Router.go('/experiments/{{_id}}')">{{resolution}}</td>
            <td onclick="Router.go('/experiments/{{_id}}')">{{timeStepSize}}</td>
            {{/if}}
            {{#if currentUser.admin}}<td><button class='delete btn btn-danger btn-xs' id="{{_id}}">Delete</button></td>{{/if}}
         </tr>
        {{/each}}
        </tbody>
    </table>
</div>
</template>

<template name="singleSiteHeadings">
    <th>Name</th>
    <th>Vegetation Type</th>
    <th>Country</th>
    <th>Time Step Size</th>
</template>
<template name="singleSiteRow">
    <td onclick="Router.go('/experiments/{{_id}}')">{{name}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{vegType}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{country}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{timeStepSize}}</td>
</template>

<template name="multipleSiteHeadings">
    <th>Name</th>
    <th>Short Description</th>
</template>
<template name="multipleSiteRow">
    <td onclick="Router.go('/experiments/{{_id}}')">{{name}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{shortDescription}}</td>
</template>

<template name="catchmentHeadings">
    <th>Name</th>
    <th>Region</th>
    <th>Resolution</th>
    <th>Time Step Size</th>
</template>
<template name="catchmentRow">
    <td onclick="Router.go('/experiments/{{_id}}')">{{name}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{region}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{resolution}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{timeStepSize}}</td>
</template>

<template name="regionalHeadings">
    <th>Name</th>
    <th>Region</th>
    <th>Resolution</th>
    <th>Time Step Size</th>
</template>
<template name="regionalRow">
    <td onclick="Router.go('/experiments/{{_id}}')">{{name}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{region}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{resolution}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{timeStepSize}}</td>
</template>

<template name="globalHeadings">
    <th>Name</th>
    <th>Resolution</th>
    <th>Time Step Size</th>
</template>
<template name="globalRow">
    <td onclick="Router.go('/experiments/{{_id}}')">{{name}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{resolution}}</td>
    <td onclick="Router.go('/experiments/{{_id}}')">{{timeStepSize}}</td>
</template>