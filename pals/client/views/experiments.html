<template name="experiments">
<div class="text-content">
  <div class="form-group" align="center">
    <label>Experiment Type</label>&nbsp;
    <input type="radio" name="spatialLevel" value="All" {{isChecked 'All'}}>All&nbsp;
    <input type="radio" name="spatialLevel" value="SingleSite" {{isChecked 'SingleSite'}}>SingleSite&nbsp;
    <input type="radio" name="spatialLevel" value="MultipleSite" {{isChecked 'MultipleSite'}}>MultipleSite&nbsp;
    <input type="radio" name="spatialLevel" value="Catchment" {{isChecked 'Catchment'}}>Catchment&nbsp;
    <input type="radio" name="spatialLevel" value="Regional" {{isChecked 'Regional'}}>Regional&nbsp;
    <input type="radio" name="spatialLevel" value="Global" {{isChecked 'Global'}}>Global&nbsp;
  </div>

  <h1>
    {{#if areEqual source 'templates'}}
      {{currentSpatialLevel}} Experiment Templates For Cloning Into Current Workspace
    {{else}}
      {{currentSpatialLevel}} Experiments
    {{/if}}
    {{#if areEqual source 'workspace'}}In Current Workspace
    {{else}}
      {{#if areEqual source 'anywhere'}}In All Available Workspaces
      {{/if}}
    {{/if}}
  </h1>
    <div class="alert alert-danger error"></div>
    <table class="table table-hover">
        <thead>
        <tr>
          {{#if areEqual currentSpatialLevel 'All'}}
            <th>Name</th>
            <th>Spatial Level</th>
            <th>Resolution</th>
            <th>Time Step Size</th>
          {{else}}
            {{#if areEqual currentSpatialLevel 'SingleSite'}}
                {{> singleSiteHeadings}}
            {{/if}}
            {{#if areEqual currentSpatialLevel 'MultipleSite'}}
                {{> multipleSiteHeadings}}
            {{/if}}
            {{#if areEqual currentSpatialLevel 'Catchment'}}
                {{> catchmentHeadings}}
            {{/if}}
            {{#if areEqual currentSpatialLevel 'Regional'}}
                {{> regionalHeadings}}
            {{/if}}
            {{#if areEqual currentSpatialLevel 'Global'}}
                {{> globalHeadings}}
            {{/if}}
          {{/if}}
          {{#if areEqual source 'templates'}}<th>Clone</th>
          {{else}}
            {{#if areEqual source 'anywhere'}}<th>Workspace</th>{{/if}}
            <th>View Analyses</th>{{/if}}
          <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {{#each experiments}}
        <tr id="{{_id}}">
            {{#if areEqual currentSpatialLevel 'All'}}
              <td>{{name}}</td>
              <td>{{spatialLevel}}</td>
              <td>{{resolution}}</td>
              <td>{{timeStepSize}}</td>
            {{else}}
              {{#if areEqual currentSpatialLevel 'SingleSite'}}
                  {{> singleSiteRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'MultipleSite'}}
                  {{> multipleSiteRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'Catchment'}}
                  {{> catchmentRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'Regional'}}
                  {{> regionalRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'Global'}}
                  {{> globalRow}}
              {{/if}}
            {{/if}}
            {{#if areEqual source 'templates'}}
              {{#if notCloned _id}}<td><button class='btn btn-primary btn-xs clone-exp' id="{{_id}}">Clone</button></td>
              {{else}}<td>Cloned</td>
              {{/if}}
            {{else}}
              {{#if areEqual source 'anywhere'}}<td>{{workspaceName workspace}}</td>{{/if}}
              {{#if analysesExist}}<td><button class='btn btn-primary btn-xs view-analysis' id="{{_id}}">View Analyses</button></td>
              {{else}}<td>Unavailable</td>
              {{/if}}
            {{/if}}
            {{#if authorisedToEdit 'experiment' _id}}<td><button class='delete btn btn-danger btn-xs' id="{{_id}}">Delete</button></td>
            {{else}}<td>-</td>
            {{/if}}
         </tr>
        {{/each}}
        </tbody>
    </table>
</div>
</template>
