<template name="datasets">
<div class="text-content">
    <h1>
        {{currentSpatialLevel}} Data Sets
        {{#if areEqual source 'workspace'}}In Current Workspace{{/if}}
    </h1>
<!--      <form action="source">
        <b>Source:</b> &nbsp;&nbsp;
        <input type = "radio" name = "source" value="anywhere">&nbsp;anywhere &nbsp;&nbsp;&nbsp;
        <input type = "radio" name = "source" value="workspace" checked="checked">&nbsp;Within Current Workspace
      </form>
    <br>
-->
    <div class="alert alert-danger error"></div>
    <table class="table table-hover">
        <thead>
        <tr>
            {{#if areEqual currentSpatialLevel 'All'}}
                <th>Name</th>
                <th>Spatial Level</th>
                <th>Resolution</th>
                <th>Time Step Size</th>
                <th>Variables</th>
                <th>Created By</th>
            {{else}}
                {{#if areEqual currentSpatialLevel 'SingleSite'}}
                    {{> singleSiteHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialLevel 'MultipleSite'}}
                    {{> multipleSiteHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialLevel 'Catchment'}}
                    {{> catchmentHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialLevel 'Regional'}}
                    {{> regionalHeadings}}
                {{/if}}
                {{#if areEqual currentSpatialLevel 'Global'}}
                    {{> globalHeadings}}
                {{/if}}
            {{/if}}
            {{#if currentUser.admin}}<th>Delete</th>{{/if}}
        </tr>
        </thead>
        <tbody>
        {{#each dataSets}}
        <tr id="{{_id}}">
          {{#if areEqual currentSpatialLevel 'All'}}
              <td>{{name}}</td>
              <td>{{spatialLevel}}</td>
              <td>{{resolution}}</td>
              <td>{{timeStepSize}}</td>
              <td>{{variableList this}}</td>
              <td>{{userEmail owner}}</td>
          {{else}}
              {{#if areEqual currentSpatialLevel 'SingleSite'}}
                  {{> singleSiteRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'MultipleSite'}}
                  {{> multipleSiteRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'Catchment'}}
                  {{> catchmentRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'Regional'}}
                  {{> regionalRow}}
              {{/if}}
              {{#if areEqual currentSpatialLevel 'Global'}}
                  {{> globalRow}}
              {{/if}}
            {{/if}}
            {{#if currentUser.admin}}<td><button class='delete btn btn-danger btn-xs' id="{{_id}}">Delete</button></td>{{/if}}
         </tr>
        {{/each}}
        </tbody>
    </table>
</div>
</template>
